!function(e,n){"use strict";"function"==typeof define&&define.amd?define(["acorn","magic-string","path","sander","estraverse"],n):"undefined"!=typeof module&&module.exports&&"function"==typeof require?module.exports=n(require("acorn"),require("magic-string"),require("path"),require("sander"),require("estraverse")):e.esperanto=n(e.acorn,e.MagicString,e.path,e.sander,e.estraverse)}("undefined"!=typeof window?window:this,function(e,n,t,r,a){"use strict";function o(e,n,t,r,a){var o;t.body.forEach(function(t){var s,p;if(o&&(o.next=t.start,"EmptyStatement"!==t.type&&(o=null)),"ImportDeclaration"===t.type)p=i(t),r.push(p);else if("ExportDeclaration"===t.type){if(p=u(t,n),a.push(p),p.default){if(e.defaultExport)throw new Error("Duplicate default exports");e.defaultExport=p}t.source&&(s=i(t,!0),r.push(s),p.passthrough=s)}p&&(o=p)}),o&&(o.next=n.length)}function i(e,n){var t={node:e,start:e.start,end:e.end,passthrough:!!n,path:e.source.value,specifiers:e.specifiers.map(function(e){var n;return"ImportBatchSpecifier"===e.type?{batch:!0,name:e.name.name}:(n=e.id.name,{"default":!!e.default,name:e.default?"default":n,as:e.name?e.name.name:n})})};return 1===t.specifiers.length&&t.specifiers[0].default&&(t.default=!0,t.name=t.specifiers[0].as),t}function u(e,n){var t,r;return t={node:e,start:e.start,end:e.end},(r=e.declaration)?(t.value=n.slice(r.start,r.end),t.valueStart=r.start,/Declaration/.test(r.type)?(t.declaration=!0,t.type="declaration",t.default=!!e.default,t.name=e.default?"default":s(r)):(t.type="literal",t.default=!0,t.name="default")):(t.type="named",t.specifiers=e.specifiers.map(function(e){return{name:e.id.name}})),t}function s(e){return"VariableDeclaration"===e.type?e.declarations[0].id.name:"FunctionDeclaration"===e.type?e.id.name:void 0}function p(e){return e=e.replace(/[^a-zA-Z0-9_$]/g,"_"),/[^a-zA-Z_$]/.test(e[0])&&(e="_"+e),~xn.indexOf(e)&&(e="_"+e),e}function c(e){var n,r={},a={};return n=function(n){var o,i,u;if(u=r[n])return u;if(e&&(u=e(n)))r[n]=yn(u);else for(o=n.split(t.sep),i=o.length;i--;)if(u=yn(o.slice(i).join("__")),!a[u]){a[u]=!0,r[n]=u;break}return r[n]}}function d(t){var r;return r={source:t.source,body:new n(t.source),ast:e.parse(t.source,{ecmaVersion:6,locations:!0}),imports:[],exports:[],getName:_n(t.getModuleName)},gn(r,r.source,r.ast,r.imports,r.exports,t.getModuleName),r}function f(e,n){var r;return r="."!==e[0]?e:t.join(t.dirname(n),e),r.replace(/\.js$/,"")}function l(e,n){function t(e){e&&!r[e.id]&&(r[e.id]=!0,e.imports.forEach(function(r){var a=Sn(r.path,e.file);t(n[a])}),a.push(e))}var r={},a=[];return t(e),a}function m(e,n){var t={};return e.forEach(function(e){var r,a={};e.imports.forEach(function(t){t.specifiers.forEach(function(o){var i=Sn(t.path,e.file);return o.batch?void((r=n[i])&&(r._exportsNamespace=!0)):void(a[o.as]=i+"@"+o.name)})}),e.exports.forEach(function(n){n.specifiers&&n.specifiers.forEach(function(n){var r=a[n.name];r&&(t[e.id+"@"+n.name]=r)})})}),t}function h(e,n){var t={},r={};return n&&Object.keys(n).forEach(function(e){t[e]=n[e],r[n[e]]=!0}),e.forEach(function(e){e.imports.forEach(function(n){var a=Sn(n.path,e.file);n.id=a,!n.default||t[a]||r[n.name]||(t[a]=n.name,r[n.name]=!0)})}),e.forEach(function(e){var n,a,o;if(!t[e.id]){for(n=e.id.split("/"),a=n.length;a--&&(o=yn(n.slice(a).join("_")),r[o]););for(;r[o];)o="_"+o;r[o]=!0,t[e.id]=o}}),t}function v(e,n,t){var r,a,o,i;if("AssignmentExpression"===e.type)r=e.left;else{if("UpdateExpression"!==e.type)return;r=e.argument}if("MemberExpression"===r.type?(r=r.object,i="Cannot reassign imported binding of namespace "):i="Cannot reassign imported binding ","Identifier"===r.type&&(a=r.name,o=n[a],o&&!t.contains(a)))throw new Error(i+"`"+a+"`")}function g(e,n,t,r){var a,o;"Identifier"===n.type&&(a=n.name,o=t[a],o&&!r.contains(a)&&e.replace(n.start,n.end,o))}function x(e,n,t,r,a,o){var i={};return e.forEach(function(e){var i;n[e.path]&&(i=!0),e.specifiers.forEach(function(n){var u,s,p,c,d,f,l,m;if(u=e.id,n.batch)c=n.name,d=o[u];else{for(c=n.as,p=n.name,f=u+"@"+p;a[f];)f=a[f],l=!0;l&&(m=f.indexOf("@"),u=f.substr(0,m),p=f.substring(m+1)),s=o[u],d=i&&"default"!==p?s+"."+p:s+"__"+p}t[c]=d,e.passthrough||(r[c]=d)})}),i}function y(e,n,t,r){var o,i,u,s,p={},c={},d={},f=[],l={},m={},h=[];if(o=n.ast._scope,u=n.ast._blockScope,Dn(n.imports,e.externalModuleLookup,p,c,e.chains,e.uniqueNames),Object.keys(c).forEach(function(e){return d[e]=c[e]}),o.names.forEach(function(e){return c[e]=r+"__"+e}),i=o.names,o.names=[],a.traverse(n.ast,{enter:function(e,r){return e._skip?this.skip():(e._scope?o=e._scope:e._blockScope&&(u=e._blockScope),Mn(e,d,o),_(t,e,f,o,l,~n.ast.body.indexOf(r)),Nn(t,e,c,o),void("TemplateLiteral"===e.type&&h.push([e.start,e.end])))},leave:function(e){"Program"!==e.type&&(e._scope?o=o.parent:e._blockScope&&(u=u.parent))}}),o.names=i,n.imports.forEach(function(e){e.passthrough||t.remove(e.start,e.next)}),n.exports.forEach(function(e){var n;return e.default?void(e.node.declaration&&e.node.declaration.id&&(n=e.node.declaration.id.name)?(s=t.slice(e.valueStart,e.end),t.remove(e.start,e.valueStart),t.replace(e.end,e.end,"\nvar "+r+"__default = "+r+"__"+n+";")):e.node.declaration&&(n=e.node.declaration.name)?(s=r+"__"+n,t.replace(e.start,e.end,"var "+r+"__default = "+s+";")):t.replace(e.start,e.valueStart,"var "+r+"__default = ")):void(e.declaration?("FunctionDeclaration"===e.node.declaration.type&&(m[e.node.declaration.id.name]=!0),t.remove(e.start,e.valueStart)):t.remove(e.start,e.next))}),n._exportsNamespace){var v="var "+r+" = {\n",g=[];n.exports.forEach(function(e){e.declaration?g.push(t.indentStr+"get "+e.name+" () { return "+r+"__"+e.name+"; }"):e.default?g.push(t.indentStr+"get default () { return "+r+"__default; }"):e.specifiers.forEach(function(e){g.push(t.indentStr+"get "+e.name+" () { return "+e.name+"; }")})}),v+=g.join(",\n")+"\n};\n\n",t.prepend(v)}t.trim().indent({exclude:h})}function _(e,n,t,r,a,o){var i,u;if("AssignmentExpression"===n.type)i=n.left;else{if("UpdateExpression"!==n.type)return;i=n.argument}"Identifier"===i.type&&(u=i.name,~t.indexOf(u)&&("++"===n.operator||"--"===n.operator?e.replace(n.end,n.end,", exports."+u+(" = "+u)):e.replace(n.start,n.start,"exports."+u+" = "),o&&(a[u]=!0)))}function b(e){var n=new kn,t=new kn;a.traverse(e,{enter:function(e){return"ImportDeclaration"===e.type&&(e._skip=!0),e._skip?this.skip():(S(e)?(e.id&&n.add(e.id.name),n=e._scope=new kn({parent:n,params:e.params.map(function(e){return e.name})})):E(e)&&(t=e._blockScope=new kn({parent:t})),j(e)?n.add(e.id.name):w(e)&&t.add(e.id.name),void("MemberExpression"!==e.type||e.computed?"Property"===e.type&&(e.key._skip=!0):e.property._skip=!0))},leave:function(e){S(e)?n=n.parent:E(e)&&(t=t.parent)}}),e._scope=n,e._blockScope=t}function S(e){return"FunctionExpression"===e.type||"FunctionDeclaration"===e.type}function E(e){return"BlockStatement"===e.type}function j(e){return"VariableDeclarator"===e.type}function w(){return!1}function M(e){var t=(e.getName,e.modules.map(function(n){var t=n.body.clone(),r=e.uniqueNames[n.id];return An(n.ast),qn(e,n,t,r),t.toString()}).join("\n\n"));e.body=new n(t)}function N(t){var r;return r={id:t.id,file:t.file,source:t.source,body:new n(t.source),ast:e.parse(t.source,{ecmaVersion:6,locations:!0}),imports:[],exports:[],getName:_n(t.getModuleName)},gn(r,r.source,r.ast,r.imports,r.exports,t.getModuleName),r}function D(e){function n(e){var t;return t=e.replace(/\.js$/,""),e=t+".js",u[t]||(u[t]=r.readFile(c,e).catch(function(n){if("ENOENT"===n.code)return e=e.replace(/\.js$/,"/index.js"),r.readFile(c,e);throw n}).then(String).then(function(r){var a,p;return a=In({source:r,id:t,file:e}),o.push(a),i[t]=a,p=a.imports.map(function(t){var r;return r=Sn(t.path,e),s&&~s.indexOf(r)||u[r]?void 0:n(r)}),Tn.all(p)}).catch(function(e){var n;if("ENOENT"!==e.code)throw e;if(t===a)throw new Error("Could not find entry module ("+a+")");f[t]||(n={id:t},d.push(n),f[t]=n)})),u[t]}var a=e.entry.replace(/\.js$/,""),o=[],i={},u={},s=e.skip,p=e.names,c=e.base?t.resolve(e.base):process.cwd(),d=[],f={};return n(a).then(function(){var n,t;return n=i[a],o=En(n,i),t={entry:a,entryModule:n,base:c,modules:o,moduleLookup:i,externalModules:d,externalModuleLookup:f,skip:s,names:p,uniqueNames:wn(o,e.names),chains:jn(o,i)},Pn(t),t})}function q(e,n,t){var r,a,o,i,u=[],s=[];for(i=e.imports.length;i--;)e.imports[i].specifiers.length||e.imports.splice(e.imports.length-1,0,e.imports.splice(i,1)[0]);return e.imports.forEach(function(e,t){var r;s[t]=e.path,r=e.specifiers[0],r&&(u[t]=r.batch?r.name:r.as),n.remove(e.start,e.next)}),r=e.exports[0],r&&(k(r)?(n.remove(r.start,r.valueStart),a=r.node.declaration.id.name):(n.remove(r.start,r.next),a=r.value),n.append("\nreturn "+a+";")),n.trim(),"false"!==t.addUseStrict&&n.prepend("'use strict';\n\n").trim(),o=Un.replace("__IMPORT_PATHS__",s.length?"["+s.map(O).join(", ")+"], ":"").replace("__IMPORT_NAMES__",u.join(", ")),n.indent().prepend(o).append("\n\n});"),n.toString()}function k(e){return e.node.declaration&&"FunctionExpression"===e.node.declaration.type}function O(e){return"'"+e+"'"}function A(e,n,t){var r,a;return e.imports.forEach(function(e){var t,a;t=e.specifiers[0],t?(a=t.batch?t.name:t.as,r="var "+a+(" = require('"+e.path)+"');"):r="require('"+e.path+"');",n.replace(e.start,e.end,r)}),a=e.exports[0],a&&(P(a)?(n.remove(a.start,a.valueStart),n.replace(a.end,a.end,"\nmodule.exports = "+a.node.declaration.id.name+";")):n.replace(a.start,a.end,"module.exports = "+a.value+";")),n.trim(),"false"!==t.addUseStrict&&n.prepend("'use strict';\n\n").indent().prepend("(function () {\n\n").append("\n\n}).call(global);"),n.toString()}function P(e){return e.node.declaration&&"FunctionExpression"===e.node.declaration.type}function I(e){return function(n){return e.replace(/\<%=\s*([^\s]+)\s*%\>/g,function(e,t){return t in n?n[t]:e})}}function T(e,n,t){var r,a,o,i,u=[],s=[];for(i=e.imports.length;i--;)e.imports[i].specifiers.length||e.imports.splice(e.imports.length-1,0,e.imports.splice(i,1)[0]);return e.imports.forEach(function(e,t){var r;s[t]=e.path,r=e.specifiers[0],r&&(u[t]=r.batch?r.name:r.as),n.remove(e.start,e.next)}),r=e.exports[0],r&&(F(r)?(n.remove(r.start,r.valueStart),a=r.node.declaration.id.name):(n.remove(r.start,r.next),a=r.value),n.append("\nreturn "+a+";")),n.trim(),"false"!==t.addUseStrict&&n.prepend("'use strict';\n\n").trim(),o=Vn({AMD_DEPS:s.length?"["+s.map(U).join(", ")+"], ":"",CJS_DEPS:s.map(L).join(", "),GLOBAL_DEPS:u.map(C).join(", "),IMPORT_NAMES:u.join(", "),NAME:t.name}).replace(/\t/g,n.indentStr),n.indent().prepend(o).append("\n\n}));"),n.toString()}function F(e){return e.node.declaration&&"FunctionExpression"===e.node.declaration.type}function U(e){return"'"+e+"'"}function L(e){return"require('"+e+"')"}function C(e){return"global."+e}function R(e){var n;for(n=e.length;n--;)e[n].specifiers.length||e.splice(e.length-1,0,e.splice(n,1)[0])}function V(e,n,t,r){e.forEach(function(e){e.specifiers.forEach(function(a){var o,i;o=a.batch?a.name:a.as,i=a.batch?a.name:n(e.path)+"."+a.name,t[o]=i,e.passthrough||(r[o]=i)})})}function $(e){var n=[];return e.forEach(function(e){return e.default?void 0:e.declaration?void n.push(e.name):void e.specifiers.forEach(function(e){n.push(e.name)})}),n}function B(e,n,t){var r,o,i,u,s,p={},c={},d=[],f={},l={},m=null,h=[];r=e.ast._scope,o=e.ast._blockScope,Gn(e.imports,e.getName,p,c),d=Hn(e.exports),a.traverse(e.ast,{enter:function(t,a){if(t._skip)return this.skip();if(t._scope?r=t._scope:t._blockScope&&(o=t._blockScope),"VariableDeclaration"===t.type){var i=m;m=[],m.previous=i}Mn(t,c,r),z(n,t,d,r,f,~e.ast.body.indexOf(a),m),Nn(n,t,c,r),"TemplateLiteral"===t.type&&h.push([t.start,t.end])},leave:function(e){"VariableDeclaration"===e.type&&(m.length&&n.replace(e.end,e.end,m.map(function(e){return" exports."+e+(" = "+e)+";"}).join("")),m=m.previous),e._scope?r=r.parent:e._blockScope&&(o=o.parent)}}),e.imports.forEach(function(e){e.passthrough||n.remove(e.start,e.next)}),e.exports.forEach(function(e){var t;return e.default?(s=n.slice(e.valueStart,e.end),void(e.node.declaration&&e.node.declaration.id&&(t=e.node.declaration.id.name)?n.replace(e.start,e.end,s+"\nexports.default = "+t+";"):n.replace(e.start,e.end,"exports.default = "+s))):void(e.declaration?("FunctionDeclaration"===e.node.declaration.type&&(l[e.node.declaration.id.name]=!0),n.remove(e.start,e.valueStart)):n.remove(e.start,e.next))}),i=[],u=[],d.forEach(function(e){var n;(n=p[e])?i.push("Object.defineProperty(exports, '"+e+("', { get: function () { return "+n)+"; }});"):l[e]?i.push("exports."+e+(" = "+e)+";"):f[e]||u.push("exports."+e+(" = "+e)+";")}),u.length&&n.trim().append("\n\n"+u.join("\n")),t.header&&n.prepend(t.header+"\n\n"),i.length&&n.trim().prepend(i.join("\n")+"\n\n"),n.trim().indent({exclude:h.length?h:null}).prepend(t.intro).trim().append(t.outro)}function z(e,n,t,r,a,o,i){var u,s;if("AssignmentExpression"===n.type)u=n.left;else{if("UpdateExpression"!==n.type)return;u=n.argument}if("Identifier"===u.type&&(s=u.name,~t.indexOf(s))){if(i)return void i.push(s);"++"===n.operator||"--"===n.operator?e.replace(n.end,n.end,", exports."+s+(" = "+s)):e.replace(n.start,n.start,"exports."+s+" = "),o&&(a[s]=!0)}}function G(e,n){var t,r=[],a=[];return zn(e.imports),e.imports.forEach(function(n,t){r[t]=n.path,n.specifiers.length&&(a[t]=e.getName(n.path))}),e.exports.length&&(r.unshift("exports"),a.unshift("exports")),t=On({paths:r.length?"["+r.map(H).join(", ")+"], ":"",names:a.join(", ")}).replace(/\t/g,n.indentStr),Jn(e,n,{intro:t,outro:"\n\n});"}),n.toString()}function H(e){return"'"+e+"'"}function J(e,n){var t;return t=e.imports.map(function(n){var t,r,a;return t=n.specifiers[0],t?(r=t.batch?t.name:e.getName(n.path),a="var "+r+(" = require('"+n.path)+"');"):a="require('"+n.path+"');",a}).join("\n"),Jn(e,n,{intro:Kn.replace(/\t/g,n.indentStr),header:t,outro:Qn}),n.toString()}function Y(e,n,t){var r,a=[],o=[];return zn(e.imports),e.imports.forEach(function(n,t){a[t]=n.path,n.specifiers.length&&(o[t]=e.getName(n.path))}),r=Yn({amdDeps:["exports"].concat(a).map(Z).join(", "),cjsDeps:["exports"].concat(a.map(K)).join(", "),globals:["global."+t.name].concat(o.map(Q)).join(", "),names:["exports"].concat(o).join(", "),name:t.name}).replace(/\t/g,n.indentStr),Jn(e,n,{intro:r,outro:"\n\n}));"}),n.toString()}function Z(e){return"'"+e+"'"}function K(e){return"require('"+e+"')"}function Q(e){return"global."+e}function W(e,n){var t,r,a,o=e.entryModule;return(t=o.exports[0])&&(r=n.indentStr+"return "+e.uniqueNames[e.entry]+"__default;",n.append("\n\n"+r)),a=rt({amdDeps:e.externalModules.length?"["+e.externalModules.map(X).join(", ")+"], ":"",names:e.externalModules.map(function(n){return e.uniqueNames[n.id]}).join(", ")}).replace(/\t/g,n.indentStr),n.prepend(a).trim().append("\n\n});"),n.toString()}function X(e){return"'"+e.id+"'"}function en(e,n){var t,r,a,o,i=e.entryModule;return t=e.externalModules.map(function(t){var r=e.uniqueNames[t.id];return n.indentStr+("var "+r+("__default = require('"+t.id)+"');")}).join("\n"),t&&n.prepend(t+"\n\n"),(r=i.exports[0])&&(a=n.indentStr+"module.exports = "+e.uniqueNames[e.entry]+"__default;",n.append("\n\n"+a)),o="(function () {\n\n"+n.indentStr+"'use strict';\n\n",n.prepend(o).trim().append("\n\n}).call(global);"),n.toString()}function nn(e,n,t){var r,a,o,i,u,s,p=e.entryModule;if(!t||!t.name)throw new Error('You must specify an export name, e.g. `bundle.toUmd({ name: "myModule" })`');return(r=p.exports[0])&&(a=n.indentStr+"return "+e.uniqueNames[e.entry]+"__default;",n.append("\n\n"+a)),o=e.externalModules.map(tn).join(", "),i=e.externalModules.map(rn).join(", "),u=e.externalModules.map(function(n){return"global."+e.uniqueNames[n.id]}).join(", "),s=et({amdDeps:o,cjsDeps:i,globals:u,name:t.name,names:e.externalModules.map(function(n){return e.uniqueNames[n.id]+"__default"}).join(", ")}).replace(/\t/g,n.indentStr),n.prepend(s).trim().append("\n\n}));"),n.toString()}function tn(e){return"'"+e.id+"'"}function rn(e){return"require('"+e.id+"')"}function an(e,n,t){var r,a="",o=[];return r=e.uniqueNames[e.entry],n.defaultExport&&(a=t+"exports.default = "+r+"__default;"),n.exports.forEach(function(e){e.default||(e.declaration?o.push(t+("__export('"+e.name+("', function () { return "+r)+("__"+e.name)+"; });")):e.specifiers.forEach(function(e){o.push(t+("__export('"+e.name+("', function () { return "+r)+("__"+e.name)+"; });"))}))}),o.length&&(a&&(a+="\n\n"),a+=ut({exportStatements:o.join("\n")}).replace(/\t/g,t)),a}function on(e,n){var t,r,a,o,i,u=e.entryModule,s=e.externalModules;return t=s.map(function(t){var r=e.uniqueNames[t.id];return n.indentStr+("var "+r+("__default = ('default' in "+r)+(" ? "+r)+(".default : "+r)+");")}).join("\n"),t&&n.prepend(t+"\n\n"),u.exports.length?(a=["exports"].concat(s.map(sn)),o=["exports"].concat(s.map(function(n){return e.uniqueNames[n.id]})),r=pt(e,u,n.indentStr),n.append("\n\n"+r)):(a=s.map(sn),o=s.map(function(n){return e.uniqueNames[n.id]})),i=ct({amdDeps:a.length?"["+a.map(un).join(", ")+"], ":"",names:o.join(", ")}).replace(/\t/g,n.indentStr),n.prepend(i).trim().append("\n\n});"),n.toString()}function un(e){return"'"+e+"'"}function sn(e){return e.id}function pn(e,n){var t,r,a,o=e.entryModule;return t=e.externalModules.map(function(t){var r=e.uniqueNames[t.id];return n.indentStr+("var "+r+(" = require('"+t.id)+"');\n")+n.indentStr+("var "+r+("__default = ('default' in "+r)+(" ? "+r)+(".default : "+r)+");")}).join("\n"),t&&n.prepend(t+"\n\n"),o.exports.length&&(r=pt(e,o,n.indentStr),n.append("\n\n"+r)),a="(function () {\n\n"+n.indentStr+"'use strict';\n\n",n.prepend(a).trim().append("\n\n}).call(global);"),n.toString()}function cn(e,n,t){var r,a,o,i,u,s,p,c,d,f=e.entryModule;if(!t||!t.name)throw new Error('You must specify an export name, e.g. `bundle.toUmd({ name: "myModule" })`');return r=e.externalModules.map(function(t){var r=e.uniqueNames[t.id];return n.indentStr+("var "+r+("__default = ('default' in "+r)+(" ? "+r)+(".default : "+r)+");")}).join("\n"),r&&n.prepend(r+"\n\n"),o=e.externalModules.map(dn),i=e.externalModules.map(function(n){return e.uniqueNames[n.id]}),f.exports.length?(u=["exports"].concat(o).map(fn).join(", "),s=["exports"].concat(o.map(ln)).join(", "),p=[t.name].concat(i).map(mn).join(", "),c=["exports"].concat(i).join(", "),a=pt(e,f,n.indentStr),n.append("\n\n"+a)):(u=o.map(fn).join(", "),s=o.map(ln).join(", "),p=i.map(mn).join(", "),c=i.join(", ")),d=ft({amdDeps:u,cjsDeps:s,globals:p,names:c,name:t.name}).replace(/\t/g,n.indentStr),n.prepend(d).trim().append("\n\n});"),n.toString()}function dn(e){return e.id}function fn(e){return"'"+e+"'"}function ln(e){return"require('"+e+"')"}function mn(e){return"global."+e}function hn(e){e.imports.forEach(function(e){if(e.specifiers.length){if(e.specifiers.length>1)throw new Error(gt);if(!e.specifiers[0].default&&!e.specifiers[0].batch)throw new Error(gt)}}),e.exports.forEach(function(e){if(!e.default)throw new Error(xt)})}function vn(e){return function(n,t){var r,a,o;return t=t||{},r=bn({source:n,getModuleName:t.getModuleName}),a=r.body.clone(),t.defaultOnly?(yt(r),o=tt.defaultsMode[e]):(An(r.ast),o=tt.strictMode[e]),o(r,a,t)}}var gn=o,xn="break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield".split(" "),yn=p,_n=c,bn=d,Sn=f,En=l,jn=m,wn=h,Mn=v,Nn=g,Dn=x,qn=y,kn=function(e){e=e||{},this.parent=e.parent,this.names=e.params||[]};kn.prototype={add:function(e){this.names.push(e)},contains:function(e){return~this.names.indexOf(e)?!0:this.parent?this.parent.contains(e):!1}};var On,An=b,Pn=M,In=N,Tn=r.Promise,Fn=D,Un="define(__IMPORT_PATHS__function (__IMPORT_NAMES__) {\n\n",Ln=q,Cn=A,Rn=I,Vn=Rn("(function (global, factory) {\n\n	'use strict';\n\n	if (typeof define === 'function' && define.amd) {\n		// export as AMD\n		define(<%= AMD_DEPS %>factory);\n	} else if (typeof module !== 'undefined' && module.exports && typeof require === 'function') {\n		// node/browserify\n		module.exports = factory(<%= CJS_DEPS %>);\n	} else {\n		// browser global\n		global.<%= NAME %> = factory(<%= GLOBAL_DEPS %>);\n	}\n\n}(typeof window !== 'undefined' ? window : this, function (<%= IMPORT_NAMES %>) {\n\n"),$n=T,Bn={amd:Ln,cjs:Cn,umd:$n},zn=R,Gn=V,Hn=$,Jn=B;On=Rn("define(<%= paths %>function (<%= names %>) {\n\n	'use strict';\n\n");var Yn,Zn=G,Kn="(function () {\n\n	'use strict';\n\n",Qn="\n\n}).call(global);",Wn=J,Xn=Y;Yn=Rn("(function (global, factory) {\n\n	'use strict';\n\n	if (typeof define === 'function' && define.amd) {\n		// export as AMD\n		define([<%= amdDeps %>], factory);\n	} else if (typeof module !== 'undefined' && module.exports && typeof require === 'function') {\n		// node/browserify\n		factory(<%= cjsDeps %>);\n	} else {\n		// browser global\n		global.<%= name %> = {};\n		factory(<%= globals %>);\n	}\n\n}(typeof window !== 'undefined' ? window : this, function (<%= names %>) {\n\n	'use strict';\n\n");var et,nt={amd:Zn,cjs:Wn,umd:Xn},tt={defaultsMode:Bn,strictMode:nt},rt=Rn("define(<%= amdDeps %>function (<%= names %>) {\n\n	'use strict';\n\n"),at=W,ot=en,it=nn;et=Rn("(function (global, factory) {\n\n	'use strict';\n\n	if (typeof define === 'function' && define.amd) {\n		// export as AMD\n		define([<%= amdDeps %>], factory);\n	} else if (typeof module !== 'undefined' && module.exports && typeof require === 'function') {\n		// node/browserify\n		module.exports = factory(<%= cjsDeps %>);\n	} else {\n		// browser global\n		global.<%= name %> = factory(<%= globals %>);\n	}\n\n}(typeof window !== 'undefined' ? window : this, function (<%= names %>) {\n\n	'use strict';\n\n");var ut,st={amd:at,cjs:ot,umd:it},pt=an;ut=Rn("\n\n	(function (__export) {\n	<%= exportStatements %>\n	}(function (prop, get) {\n		Object.defineProperty(exports, prop, {\n			enumerable: true,\n			get: get\n		});\n	}));\n\n");var ct,dt=on;ct=Rn("define(<%= amdDeps %>function (<%= names %>) {\n\n	'use strict';\n\n");var ft,lt=pn,mt=cn;ft=Rn("(function (global, factory) {\n\n	'use strict';\n\n	if (typeof define === 'function' && define.amd) {\n		// export as AMD\n		define([<%= amdDeps %>], factory);\n	} else if (typeof module !== 'undefined' && module.exports && typeof require === 'function') {\n		// node/browserify\n		factory(<%= cjsDeps %>);\n	} else {\n		// browser global\n		global.<%= name %> = {};\n		factory(<%= globals %>);\n	}\n\n}(typeof window !== 'undefined' ? window : this, function (<%= names %>) {\n\n	'use strict';\n\n");var ht={amd:dt,cjs:lt,umd:mt},vt={defaultsMode:st,strictMode:ht},gt="Named imports used in defaultOnly mode",xt="Named exports used in defaultOnly mode",yt=hn,_t={toAmd:vn("amd"),toCjs:vn("cjs"),toUmd:vn("umd"),bundle:function(e){return Fn(e).then(function(e){function n(n,t){var r,a;return t=t||{},t.defaultOnly?(r=e.entryModule,r.exports.forEach(function(e){if(!e.default)throw new Error("Entry module cannot have named exports in defaultOnly mode")}),a=vt.defaultsMode[n]):a=vt.strictMode[n],a(e,e.body.clone(),t)}return{toAmd:function(e){return n("amd",e)},toCjs:function(e){return n("cjs",e)},toUmd:function(e){return n("umd",e)}}})}};return _t});